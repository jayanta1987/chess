<!DOCTYPE html>
<html>
<head>
<title></title>
<meta charset="UTF-8">
<style>
.chess-board {
	border-spacing: 0;
	border-collapse: collapse;
}

.chess-board th {
	padding: .5em;
}

.chess-board td {
	border: 1px solid;
	width: 6em;
	height: 6em;
	text-align: center;
}

.chess-board .light {
	background: #eee;
	color: #000;
}

.chess-board .movable img {
	border: 5px solid #56ce74;
	padding: 1em 1em;
	opacity: 0.35;
}
.chess-board .movable img:hover {
	
	border: 5px solid #56ce74;
	padding: 1em 1em;
	opacity: 0.7;
}

.chess-board .dark {
	background: #70818e;
	color: #fff;
}
</style>
<script type="text/javascript"
	src="http://code.jquery.com/jquery-1.7.1.min.js"></script>

<script th:inline="javascript">
	function getData(piecetype, xNum, yNum) {

		data = {
			piecetype : piecetype,
			xNum : xNum,
			yNum : yNum
		};
		// Clear container
		url = "/calculation";
		// Retrieve data from action method
		var jqxhr = $.post(url, data, function(data, status, xhr) { // success callback function
			alert('status: ' + status + ', data: ' + data.responseData);
		}, 'json');

		$("#id32").addClass("movable");

		$("#id32").html('<a href="#'+piecetype+'"><img src="wqueen.png"/></a>');
	}
</script>

</head>
<body>
	<h1 align="center" style="color: #1b2e3c">Chess Master</h1>
	<div id="fill"></div>
	<table class="chess-board" align="center">
		<tbody>
			<tr th:each="row : ${board}">
				<td th:each="cell: ${row}" th:class="${cell.cssClass}"
					th:id="'id' + ${cell.xNum} + ${cell.yNum}"><a
					th:href="@{'#' + ${cell.xNum} + ${cell.yNum}}"
					th:attr="onclick=|getData('${cell.occupyingPiece.pieceType}', ${cell.xNum}, ${cell.yNum})|"
					th:if="${cell.occupyingPiece != null}"><img
						th:src="${cell.occupyingPiece.imgName}" /></a></td>
			</tr>
		</tbody>
	</table>
</body>
</html>